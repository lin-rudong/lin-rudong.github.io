---
title: MySQL
date: 2018-10-17 10:37:12
tags:
---

# 模糊查询

**LIKE或NOT LIKE**
1. %：0个或多个字符。
1. _：1个字符。
1. []：括号内字符中的1个字符。
1. [^]：不在括号内字符中的1个字符。
1. \：转义。

**REGEXP或NOT REGEXP**

# 索引
1. 普通索引
1. 唯一索引
1. 主键索引
1. 组合索引

**索引限制**
1. or条件中的每个列必须都加上索引才能生效，否则失效。
1. 组合索引必须使用第1个才会生效，否则失效。
1. LIKE查询不能是%开头，否则失效。
1. 条件的列不能进行运算，否则失效。
1. not in和!=会导致失效。
1. is null和is not null会导致失效。

1. 如果创建了索引(a,b,c)，实际等同于创建了索引(a)、索引(a,b)和索引(a,b,c)。
1. 索引不会包含有NULL值得列，组合索引只有要一列含有NULL值就无效。
1. 对字符串索引时限制长度。
1. VARCHAR是变长的，可以节约空间，但更新数据时可能产生碎片。
1. ENUM类型代替字符串类型，数据实际存储为整型。

1. 避免全表扫描，在where和order by涉及的列上建立索引。
1. 避免where对null判断，设置默认值不为null。
1. 避免where使用or连接条件，使用union代替。
1. in和not in会导致全表扫描，用between等代替。
1. 避免使用通配符。
